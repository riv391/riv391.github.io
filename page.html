<!DOCTYPE html>

<html>

	<body style="font-size: 400%; color: blue;">


		<label for="passwdLabel">Insert password: </label><br>
		<input type="password" id="passwdtext" name="passwdLabel" readonly="readonly"><br>
		<button onclick="insertValue(1)">1</button>
		<button onclick="insertValue(2)">2</button>
		<button onclick="insertValue(3)">3</button>
		<br>
		<button onclick="insertValue(4)">4</button>
		<button onclick="insertValue(5)">5</button>
		<button onclick="insertValue(6)">6</button>
		<br>
		<button onclick="insertValue(7)">7</button>
		<button onclick="insertValue(8)">8</button>
		<button onclick="insertValue(9)">9</button>
		<br>
		<button onclick="insertValue(0)">0</button>
		<button onclick="checkPasswd()">Check!</button>
		<button onclick="eraseValue()">Erase</button>
		<br>

		<span id="content">
		</span>

		<script>

			function insertValue(nbr) {
				let passwdRes = document.getElementById('passwdtext').value.toString();
				if (passwdRes.length < 4)
					document.getElementById('passwdtext').value = document.getElementById('passwdtext').value * 10 + nbr;
				
			}

			function eraseValue() {
				let passwdRes = document.getElementById('passwdtext').value.toString();

				if (passwdRes.length > 0)
					document.getElementById('passwdtext').value = parseInt(document.getElementById('passwdtext').value / 10);

				if (passwdRes.length == 1)
					document.getElementById('passwdtext').value="";
			}

			function checkPasswd() {
				let passwdRes = document.getElementById('passwdtext').value;
				if (passwdRes.toString().length == 4 && passwdRes == 1234) {
					let id = getWebID();
					if (id != "123456789") {
						document.getElementById('content').innerHTML = getWebFingerPrint();
						document.getElementById('passwdtext').innerHTML = "";
					}
				} else {
					document.getElementById('content').innerHTML = '';
					console.log(passwdRes);
				}
			}

			function getInfo() {
				 let S = navigator.userAgent+

						 (new Date()).getTimezoneOffset()+

						 navigator.language+

						 navigator.platform+

						 window.frameElement+window.screen.width+window.screen.height+window.devicePixelRatio;
				return S;
			}

			function getWebID() {
				let S = getInfo();
				let H = 0;
				for(var i=0; i<S.length; i++)H = ((H << 5) - H) + S.charCodeAt(i);
				return H.toString();

			}

			function getWebFingerPrint() {

				let S = getInfo();

			         //..

				let H = Math.abs(parseInt(getWebID(S)));

			 return '<b>Amprenta Web:</b> '+S+'<br><b>ID Web:</b> '+H;
			}

		</script>

	</body>

</html>
